<!--
  ~ Copyright 2020 Google LLC
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ https://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>Login Page</title>
    <link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
          integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" rel="stylesheet">
    <link href="index.css" rel="stylesheet">
</head>
<body>
<nav class="navbar navbar-light bg-light">
    <a class="navbar-brand" href="#">GScribe</a>
    <div id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item">
                <button class="btn btn-dark navbar-btn pull-right logged-out-element" id="login" onclick="login()">
                    Login
                </button>
            </li>
            <li class="nav-item">
                <button class="btn btn-dark navbar-btn pull-right logged-in-element" id="logout" onclick="logout()">
                    Logout
                </button>
            </li>
        </ul>
    </div>
</nav>

<div class="container">
    <div class="card mx-auto">
        <div class="card-header">
            Welcome to Gscribe!
        </div>
        <div class="card-body logged-out-element">
            <h5 class="card-title">Sign-in</h5>
            <p class="card-text">You are not logged in, so you will be redirected to google sign-in.</p>
        </div>
        <div class="card-body logged-in-element">
            <h5 class="card-title" id="loginCardTitle"></h5>
        </div>
    </div>
    <div class="card mx-auto logged-in-element" id="submitFormCard">
        <div class="card-header">
            Submit a paper!
        </div>
        <div class="card-body" id="submitSheetForm">
            <div class="card-text">
                How to find spreadsheet and sheet ID?<br>
                https://docs.google.com/spreadsheets/d/<span
                    class="color-pink">spreadsheetId</span>/edit#gid=<span class="color-pink">sheetId</span>
            </div>
            <form onsubmit="codeNeeded();return false;">
                <div class="form-group">
                    <label for="spreadsheetId">Spreadsheet Id: </label>
                    <input class="form-control" id="spreadsheetId" placeholder="Enter spreadsheet id" type="text">
                </div>
                <div class="form-group">
                    <label for="sheetName">Sheet Name: </label>
                    <input class="form-control" id="sheetName" placeholder="Enter sheet name" type="text">
                </div>
                <button class="btn btn-primary" type="submit">Submit</button>
            </form>
        </div>
    </div>
    <div aria-hidden="true" aria-labelledby="response-modal" class="modal fade" id="response-modal" role="dialog"
         tabindex="-1">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modal-label"></h5>
                    <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" id="response-modal-body">
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" data-dismiss="modal" type="button">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="card mx-auto logged-in-element" id="allExamsCard">
        <div class="card-header" id="headingOne">
            <h5 class="mb-0">
                <a aria-controls="examsCollapse" aria-expanded="true" class="btn btn-link" data-target="#examsCollapse"
                   data-toggle="collapse" type="button">
                    View your submitted exams!
                </a>
            </h5>
        </div>

        <div aria-labelledby="headingOne" class="collapse" id="examsCollapse">
            <table class="table table-striped">
                <thead class="thead-dark">
                <tr>
                    <th scope="col">Exam ID</th>
                    <th scope="col">SpreadsheetId</th>
                    <th scope="col">Duration</th>
                    <th scope="col">Created On</th>
                </tr>
                </thead>
                <tbody id="examsList">
                </tbody>
            </table>
        </div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script crossorigin="anonymous"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
        src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<script src="app.js" type="text/javascript"></script>
<script src="https://apis.google.com/js/api.js"></script>

</body>
</html>
